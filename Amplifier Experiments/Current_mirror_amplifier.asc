Version 4
SHEET 1 1600 680
WIRE -1904 -528 -2000 -528
WIRE -2464 -512 -2560 -512
WIRE -1408 -512 -1488 -512
WIRE -1312 -512 -1408 -512
WIRE -688 -512 -768 -512
WIRE -592 -512 -688 -512
WIRE -1904 -480 -1904 -528
WIRE -2464 -464 -2464 -512
WIRE -2128 -464 -2160 -464
WIRE -2000 -464 -2000 -528
WIRE -2000 -464 -2048 -464
WIRE -2688 -448 -2720 -448
WIRE -2560 -448 -2560 -512
WIRE -2560 -448 -2608 -448
WIRE 576 -448 576 -496
WIRE 832 -448 832 -496
WIRE -2000 -432 -2000 -464
WIRE -1968 -432 -2000 -432
WIRE -1488 -432 -1488 -512
WIRE -592 -432 -592 -512
WIRE -2560 -416 -2560 -448
WIRE -2528 -416 -2560 -416
WIRE -1904 -352 -1904 -384
WIRE -1856 -352 -1904 -352
WIRE 576 -352 576 -368
WIRE 832 -352 832 -368
WIRE -2464 -336 -2464 -368
WIRE -2416 -336 -2464 -336
WIRE -1312 -320 -1312 -512
WIRE -1248 -320 -1312 -320
WIRE -1184 -320 -1248 -320
WIRE -832 -320 -880 -320
WIRE -768 -320 -768 -512
WIRE -768 -320 -832 -320
WIRE -1968 -288 -1968 -432
WIRE -2528 -272 -2528 -416
WIRE -1488 -272 -1488 -352
WIRE -1376 -272 -1488 -272
WIRE -1312 -272 -1376 -272
WIRE -1248 -272 -1312 -272
WIRE -768 -272 -816 -272
WIRE -704 -272 -768 -272
WIRE -592 -272 -592 -352
WIRE -592 -272 -704 -272
WIRE 576 -256 576 -272
WIRE 832 -256 832 -272
WIRE -1856 -240 -1856 -352
WIRE -1856 -240 -1904 -240
WIRE -1776 -240 -1856 -240
WIRE -2416 -224 -2416 -336
WIRE -2416 -224 -2464 -224
WIRE -2336 -224 -2416 -224
WIRE -1488 -208 -1488 -272
WIRE -592 -208 -592 -272
WIRE -1312 -192 -1312 -224
WIRE -1248 -192 -1248 -224
WIRE -1184 -192 -1184 -224
WIRE -880 -192 -880 -224
WIRE -832 -192 -832 -224
WIRE -768 -192 -768 -224
WIRE -1968 -160 -1968 -192
WIRE -2528 -144 -2528 -176
WIRE -1248 -112 -1312 -112
WIRE -1184 -112 -1248 -112
WIRE -832 -112 -880 -112
WIRE -768 -112 -832 -112
WIRE -1488 -96 -1488 -128
WIRE -592 -96 -592 -128
WIRE -1248 -48 -1248 -112
WIRE -1072 -48 -1248 -48
WIRE -832 -48 -832 -112
WIRE -832 -48 -992 -48
WIRE -1248 80 -1248 -48
WIRE -832 80 -832 -48
WIRE -1264 288 -1328 288
WIRE -1248 288 -1248 160
WIRE -1248 288 -1264 288
WIRE -1200 288 -1248 288
WIRE -1152 288 -1200 288
WIRE -1088 288 -1152 288
WIRE -928 288 -992 288
WIRE -880 288 -928 288
WIRE -832 288 -832 160
WIRE -832 288 -880 288
WIRE -816 288 -832 288
WIRE -752 288 -816 288
WIRE -1392 336 -1488 336
WIRE -1328 336 -1392 336
WIRE -1264 336 -1328 336
WIRE -1216 336 -1264 336
WIRE -1152 336 -1216 336
WIRE -864 336 -928 336
WIRE -816 336 -864 336
WIRE -752 336 -816 336
WIRE -688 336 -752 336
WIRE -592 336 -688 336
WIRE -1264 384 -1328 384
WIRE -1200 384 -1264 384
WIRE -1152 384 -1200 384
WIRE -1088 384 -1152 384
WIRE -928 384 -992 384
WIRE -880 384 -928 384
WIRE -816 384 -880 384
WIRE -752 384 -816 384
WIRE -1328 448 -1328 384
WIRE -752 448 -752 384
FLAG -80 -400 Vcc
FLAG -80 -320 0
FLAG 80 -320 0
FLAG 80 -400 Vin
FLAG 176 352 0
FLAG 16 352 0
FLAG 16 272 V+
FLAG 176 272 V-
FLAG -1408 -512 Vcc
FLAG -1328 448 0
FLAG -1968 -80 0
FLAG -1776 -240 I_mirror
FLAG -1488 336 I_mirror
FLAG -1488 -96 0
FLAG -592 -96 0
FLAG -688 -512 Vcc
FLAG -752 448 0
FLAG -592 336 I_mirror_180
FLAG -2528 -64 0
FLAG -2336 -224 I_mirror_180
FLAG 80 -544 0
FLAG 80 -624 Vin_180
FLAG 576 -256 0
FLAG 832 -256 0
FLAG 576 -496 IMD_Test
FLAG 832 -496 IMD_Test_180
FLAG -2736 -336 IMD_Test_180
FLAG -2176 -336 IMD_Test
FLAG -2160 -464 Vin
FLAG -2720 -448 Vin_180
SYMBOL voltage -80 -416 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 34
SYMBOL voltage 80 -416 R0
WINDOW 3 -33 180 Left 2
WINDOW 123 -25 150 Left 2
WINDOW 39 24 124 Left 2
SYMATTR Value SINE(16 {Volume} 1k)
SYMATTR Value2 AC 0
SYMATTR InstName V2
SYMBOL voltage 16 256 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 15
SYMBOL voltage 176 368 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 15
SYMBOL npn -1376 -320 R0
SYMATTR InstName Q1
SYMBOL npn -1392 288 R0
SYMATTR InstName Q2
SYMBOL npn -1968 -480 R0
SYMATTR InstName Q3
SYMBOL npn -1904 -288 M0
SYMATTR InstName Q4
SYMBOL res -2144 -448 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value {bias}
SYMBOL npn -1264 288 R0
SYMATTR InstName Q5
SYMBOL res -1504 -448 R0
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res -1504 -224 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res -1984 -176 R0
SYMATTR InstName R6
SYMATTR Value 1n
SYMBOL res -1088 -32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R_Load
SYMATTR Value {Load_Z}
SYMBOL npn -1328 288 R0
SYMATTR InstName Q6
SYMBOL npn -1216 288 R0
SYMATTR InstName Q7
SYMBOL npn -1152 288 R0
SYMATTR InstName Q8
SYMBOL npn -704 -320 M0
SYMATTR InstName Q9
SYMBOL res -576 -448 M0
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res -576 -224 M0
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL npn -688 288 M0
SYMATTR InstName Q10
SYMBOL npn -816 288 M0
SYMATTR InstName Q11
SYMBOL npn -752 288 M0
SYMATTR InstName Q12
SYMBOL npn -864 288 M0
SYMATTR InstName Q13
SYMBOL npn -928 288 M0
SYMATTR InstName Q14
SYMBOL npn -2528 -464 R0
SYMATTR InstName Q15
SYMBOL npn -2464 -272 M0
SYMATTR InstName Q16
SYMBOL res -2704 -432 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R9
SYMATTR Value {bias}
SYMBOL res -2544 -160 R0
SYMATTR InstName R10
SYMATTR Value 1n
SYMBOL voltage 80 -640 R0
WINDOW 3 -33 180 Left 2
WINDOW 123 -25 150 Left 2
WINDOW 39 24 124 Left 2
SYMATTR Value SINE(16 {Volume} 1k 0 0 180)
SYMATTR Value2 AC 0
SYMATTR InstName V5
SYMBOL npn -1312 -320 R0
SYMATTR InstName Q17
SYMBOL npn -1248 -320 R0
SYMATTR InstName Q18
SYMBOL npn -768 -320 M0
SYMATTR InstName Q19
SYMBOL npn -816 -320 M0
SYMATTR InstName Q20
SYMBOL res -1328 -208 R0
SYMATTR InstName R2
SYMATTR Value {R_e}
SYMBOL res -1264 -208 R0
SYMATTR InstName R8
SYMATTR Value {R_e}
SYMBOL res -1200 -208 R0
SYMATTR InstName R11
SYMATTR Value {R_e}
SYMBOL res -896 -208 R0
SYMATTR InstName R12
SYMATTR Value {R_e}
SYMBOL res -848 -208 R0
SYMATTR InstName R13
SYMATTR Value {R_e}
SYMBOL res -784 -208 R0
SYMATTR InstName R14
SYMATTR Value {R_e}
SYMBOL res -1264 64 R0
SYMATTR InstName R15
SYMATTR Value 1n
SYMBOL res -848 64 R0
SYMATTR InstName R16
SYMATTR Value 1n
SYMBOL voltage 576 -464 R0
WINDOW 3 -14 254 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value SINE(16 {Volume} {IMD_Tone_1} 0 0 180)
SYMBOL voltage 576 -368 R0
WINDOW 3 -14 185 Left 2
SYMATTR InstName V7
SYMATTR Value SINE(16 {Volume} {IMD_Tone_2} 0 0 180)
SYMBOL voltage 832 -464 R0
WINDOW 3 336 249 Left 2
SYMATTR InstName V8
SYMATTR Value SINE(16 {Volume} {IMD_Tone_1})
SYMBOL voltage 832 -368 R0
WINDOW 3 338 181 Left 2
SYMATTR InstName V9
SYMATTR Value SINE(16 {Volume} {IMD_Tone_2})
TEXT 328 -8 Left 2 !.tran 20m
TEXT 608 -8 Left 2 ;.step dec param bias 10 10k 10
TEXT 616 32 Left 2 ;.step dec param bias 10 1k 10
TEXT 600 72 Left 2 ;.step dec param OutputCap .1u 1m 3
TEXT 8 208 Left 2 ;OpAmp Supplies
TEXT -1280 -600 Left 2 ;Output Stage
TEXT -2040 -568 Left 2 ;Current Mirror
TEXT 1144 -8 Left 2 !.param Volume 12
TEXT -2600 -552 Left 2 ;Current Mirror Inverted Input
TEXT 1144 24 Left 2 !.param bias 220
TEXT 1160 56 Left 2 !.param Load_Z 32
TEXT 1176 88 Left 2 !.param R_e 4.7
TEXT 544 -744 Left 2 ;Two-Tone IMD Test Source
TEXT 1176 -368 Left 2 !.param IMD_Tone_1 1k
TEXT 1176 -336 Left 2 !.param IMD_Tone_2 1.3k
TEXT 1160 -56 Left 2 ;Named Parameters
TEXT 672 -48 Left 2 ;Step Parameters
TEXT 280 -48 Left 2 ;Simulation Settings
TEXT 272 24 Left 2 !.four 1k V(N015,N016)
